#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "----------------------------------------------------------"
echo "        Running commitlint validation"
echo "----------------------------------------------------------"

echo "Validating commit message: $1"

# Run commitlint with proper error handling
if dart run commitlint_cli --edit "$1"; then
    echo "--> Commit message is valid ✅"
    echo "----------------------------------------------------------"
else
    echo "--> Commit message validation failed ❌"
    echo "Please follow the conventional commit format:"
    echo "type(scope): description"
    echo "Examples:"
    echo "  feat: add new recipe feature"
    echo "  fix: resolve navigation issue"
    echo "  docs: update README"
    echo "----------------------------------------------------------"
    exit 1
fi
